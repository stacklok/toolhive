---
title: thv optimizer ingest
hide_title: true
description: Reference for ToolHive CLI command `thv optimizer ingest`
last_update:
  author: autogenerated
slug: thv_optimizer_ingest
mdx:
  format: md
---

## thv optimizer ingest

Ingest MCP workloads and generate embeddings

### Synopsis

Discovers MCP workloads from ToolHive (via Docker or Kubernetes),
connects to each workload to list tools, generates semantic embeddings,
and stores them in a SQLite database for semantic search.

```
thv optimizer ingest [flags]
```

### Options

```
  -h, --help                help for ingest
      --poll-interval int   Poll interval in seconds (0 = run once)
```

### Options inherited from parent commands

```
      --db-path string        Path to SQLite database (default: ~/.toolhive/optimizer.db)
      --debug                 Enable debug mode
      --model-path string     Path to ONNX embedding model (required)
      --runtime-mode string   Runtime mode: docker or k8s (default "docker")
```

### SEE ALSO

* [thv optimizer](thv_optimizer.md)	 - Semantic tool discovery and ingestion for MCP servers

