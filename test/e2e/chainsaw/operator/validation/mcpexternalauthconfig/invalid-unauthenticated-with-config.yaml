# SPDX-FileCopyrightText: Copyright 2025 Stacklok, Inc.
# SPDX-License-Identifier: Apache-2.0

# This should be REJECTED by CEL validation: unauthenticated type with tokenExchange config
apiVersion: toolhive.stacklok.dev/v1alpha1
kind: MCPExternalAuthConfig
metadata:
  name: test-invalid-unauthenticated
  namespace: default
spec:
  type: unauthenticated
  # Should not have any config when type is unauthenticated
  tokenExchange:
    tokenUrl: https://example.com/token
    audience: example-audience
