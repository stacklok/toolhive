# SPDX-FileCopyrightText: Copyright 2025 Stacklok, Inc.
# SPDX-License-Identifier: Apache-2.0

# This should be REJECTED by CEL validation: OIDC type without oidcConfig
apiVersion: toolhive.stacklok.dev/v1alpha1
kind: VirtualMCPServer
metadata:
  name: test-invalid-oidc-missing-config
  namespace: default
spec:
  incomingAuth:
    type: oidc  # Requires oidcConfig but it's missing
  serviceType: ClusterIP
  config:
    group: test-group
