apiVersion: toolhive.stacklok.dev/v1alpha1
kind: EmbeddingServer
metadata:
  name: ($testPrefix)
  namespace: toolhive-system
spec:
  # Use a lightweight model for testing
  model: "sentence-transformers/all-MiniLM-L6-v2"
  image: "text-embeddings-inference"
  imagePullPolicy: IfNotPresent
  port: 8080
  replicas: 1
  resources:
    limits:
      cpu: "500m"
      memory: "512Mi"
    requests:
      cpu: "250m"
      memory: "256Mi"
  env:
  - name: RUST_LOG
    value: "info"
